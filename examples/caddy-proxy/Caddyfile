# Caddy reverse proxy for local development.
#
# Uses Caddy's internal CA to issue TLS certificates for local domains.
# Add entries to /etc/hosts to point these domains to 127.0.0.1:
#
#   127.0.0.1  app1.local.dev app2.local.dev
#
# Note: Apple container runtime does not provide DNS for service names.
# Use container IPs on the shared network instead. Find IPs with:
#   container list --format json | jq '.[].networks'

# Domain 1 → app1 container (192.168.66.2:3000)
app1.local.dev {
	tls internal
	reverse_proxy 192.168.66.2:3000
}

# Domain 2 → app2 container (192.168.66.3:4000)
app2.local.dev {
	tls internal
	reverse_proxy 192.168.66.3:4000
}
